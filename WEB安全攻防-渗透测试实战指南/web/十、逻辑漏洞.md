# 通用测试点

## 一、用户类
1. 用户的登录
2. 密码找回
3. 个人信息查阅
## 二、登录模块
1. 用户名枚举
2. 密码爆破
3. 登录绕过

         篡改服务器返回包的状态码信息
4. 登录凭证未及时失效

         登录成功后，服务器返回的用户凭证未及时失效或凭证时间过长，导致可重复利用进行登录。
5. 登录越权

         篡改服务器返回包的用户 id 参数，来登录他人账号、或请求包的用户 ID
6. 空密码登录

         抓包将 password 字段改为空进行发送
7. SQL 注入

         存在注入，可利用万能密码进行登陆等
8. Cookie 仿冒攻击

         通过修改 Cookie 中的某个参数来实现登录其他用户
9. Session 会话固定攻击
10. Cookie\Session 机制缺陷

         网站会利用 Cookie 是否为空、Session 是否为 true 来
11. 判断用户是否可以登录
          构造一个 Cookie 或 Session 为 true 就可以绕过认证登录

## 三、注册模块
1. 用户批量注册
2. 用户注册信息覆盖

         通过对已存在的账号再次进行注册，从而对原有的账号注册信息进行覆盖
3. 密码找回、重置模块
4. 前端校验绕过导致任意重置

         篡改服务器返回包状态码
5. 验证码绕过
6. 重置密码流程跳过

         篡改请求包参数，跳过校验步骤，直接对目标账号进行密码重置
7. 越权篡改他人密码

         先进行合法校验再篡改 ID 为他人用户进行越权重置
8. Session 覆盖

         同一浏览器，首先输入自己的账户进行邮箱密码找回，进入邮箱查看链接，接着输入他人账户，进行密码找回，返回刚刚自己的邮箱点击链接，由于 session 覆盖导致了，这个链接成为了修改他人密码的链接，成功修改他人密码
9. 密保问题缺陷

         验证逻辑可为空，通过密码保护问题找回密码，抓包，将密码保护 问题删除，直接修改密码||密保问题答案直接暴露在页面源代码中
10. CSRF 攻击

## 四、个人信息模块

1. 水平越权

        手机号、邮箱、密码等信息篡改，个人资料越权遍历查看
2. 垂直越权
3. 水平越权
4. CSRF 攻击
5. XSS 攻击
6. SQL 注入攻击

## 五、活动类

主要包含报名、参与游戏活动、邀请活动等测试点
1. 请求重放

          批量报名，消耗活动资格、积分刷取等
2. XSS 蠕虫攻击
3. 流程乱序

         跳过部分校验流程，进行报名、参加
4. 短信内容可控

         比如好友邀请功能，可对短信内容进行编辑，进行钓鱼攻击

## 六、交易类

主要包含资金交易类型业务测试点
1. 并发逻辑漏洞

         常见于购买限量商品、领取优惠券等功能上
2. 支付绕过
3. 交易金额/数量篡改

         修改对应参数、或替换订单 ID、商品 ID 等||金额负数、整数溢出等
4. 订单号、收货地址等信息越权遍历、篡改
5. 请求参数干扰

         金钱做了签名认证之后，修改后不通过，但是在里面仍然会有一个参数对金额产生影响导致问题产生
6. 强制攻击

         强制攻击发生在暴力破解的情况下，如果一个商家运用一个自己的网店，接入第三方支付接口，由于设计上的不当导致商家与第三方支付约定的密钥 Key 可以单独被 MD5 加密，导致可以使用 MD5 碰撞技术对密钥进行破解，攻击者可以设计简单的密钥加密信息使得 MD5 加密是可以用 MD5 碰撞技术进行暴力破解
7. 金额单位替换
  
          产生在 paypal 类似的国际支付的场景
8. 收款人信息篡改

         收款二维码可控等
9. 顺序执行缺陷

         正常的逻辑是 a-b-c-d 循环渐进的进行流程操作。这个时候就会产生逻辑问题：可以直接从中绕过某一个过程进入到下一步操作。如果说有一项是支付的操作，那么也就会产生支付绕过，如果说有一项是验证机制，就会绕过验证直接进入下一步。
10. 订单未捆绑

         确定支付之后还可以将商品加入购物车：把商品放入购物车点击下单支付，会跳转到微信，支付宝等第三方支付平台。这个时候还可以继续在购物车中加入商品，支付结束之后，商家发放的商品是现在的购物车里面的东西

## 七、服务类

主要包含目标类型给予用户的服务功能测试点

1. 业务服务接口未授权越权

         更多于 JS 里的接口泄露、FUZZ 模糊测试等
2. 重放攻击

         在短信、邮件调用业务或生成业务数据环节中（类：短信验证码，邮件验证码，订单生成，评论提交等），对其业务环节进行调用（重放）测试
3. 内容可控

         可对短信内容、邮件内容进行编辑，一般常见于邀请体验类功能
4. 多余敏感信息回显

         针对于一些查询接口，可能返回该用户绑定的其他信息
5. 流程跳过

         对于部分校验流程可绕过，例如一些开卡、贷款服务等业务申请等服务
6. CSRF 攻击
7. XSS 攻击
8. SQL 注入攻击
9. SSRF 攻击
10. 任意文件上传
11. 任意文件下载/读取

## 八、验证码类

主要包含重要操作点时的验证码机制测试点
1. 图形验证码
2. 图形验证码可自动识别进行暴力破解
3. 图形验证码可复用导致暴力破解
4. 图形验证码未合理校验导致暴力破解

     删除验证码参数、验证码为空或 cookie 中的值
5. 图形验证码DDOS

     篡改验证码的长宽参数

## 九、短信验证码

1. 短信验证码弱可暴力破解

         主要应用于四位纯数字验证码||部分站点会采用固定的几种验证码组合，随机使用。
2. 短信验证码绕过

         篡改返回包状态码绕过，主要应用于先进行短信验证码校验等场景（密码重置找回、登录、修改手机号等模块）||未正常进行短信验证码校验，例如短信验证码为空，成功进行登录
3. 万能验证码（000000、111111、0000、1111）

         主要是应用于登录功能，开发人员便于系统测试时，所设置的万能短信验证码，投产时并未删除，导致可被利用
4. 短信验证码回显

          1、网站页面返回2、服务器返回包返回
5. 短信炸弹（重放攻击）

         直接重放测试、或在手机号末尾添加空格，手机号前添加“+86、逗号、分号”、参数污染（再添加一个 phone 等参数）、删除或篡改 cookie 中的部分参数（服务器对于短信获取的限制取决于 cookie 中的部分参数）、请求参数修改大小写、返回包状态码篡改、参数遍历。
6. 未绑定用户凭证

         通过他人手机号找回密码，抓包，将他人手机号替换成自己的手机号，获取验证码，提交后修改密码||通过自己手机号找回密码，获取验证码后抓包，将数据包中的 username 改为他人用户名，提交后成功修改他人密码

## 十、邮箱验证码

1. 邮箱绑定缺陷

         通过邮箱找回密码，URL 链接中修改 用户 ID 为他人，邮箱不变，之后通过链接可以将他人账户绑定为自己的邮箱，之后通过邮箱找回密码
2. 邮箱 token 缺陷（未绑定、可遍历枚举）

         通过邮箱找回密码，访问链接重置密码，输入新密码后提交时抓  包，虽然有 token，但是依然可以直接修改 用户 ID 进而修改他人密码||有的邮箱 token 可能会采用 Unix 时间戳 + md5 的方式，可自行爆破枚举，
3. 邮箱校验绕过
     同短信验证码


# 专项测试点

## 一、金融类
1. 业务办理预约
         a. 开户、贷款、取款预约等业务预约流程进行身份证、手机号校验，可跳过身份校验
         b. 时间绕过、无会话 token、上下流程无关联，导致可批量预约申请、贷款申请、开户申请
2. JS 文件存在隐藏接口服务、参数
3. XSS 攻击
4. 站点门户
5. 资源请求功能处可 SSRF
6. 投诉、建议、咨询、留言等可进行重放攻击
7. 在线客服、投诉、建议、咨询、留言等可进行 XSS 钓鱼
8. 项目文档、公告文件遍历，可遍历出开发测试或未对外开放的敏感文件
9. SQL 注入攻击
10. JS 文件存在隐藏接口服务、参数

## 二、业务查询

1. 未授权、越权查询、篡改、取消业务
2. 部署第三方接口未做好处理，导致敏感信息回显
     部分调用银联接口，未做好回显处理，导致可通过手机号或身份证号查阅到用户绑定的其他信息。
3. SQL 注入
4. 业务单号可枚举遍历

## 三、网银

1. 包含个人网银、企业网银
2. SQL 注入
3. 各个业务服务功能越权
4. 登录后的图案屏保、密码屏保绕过
5. 功能接口敏感信息泄露

## 四、节日活动

1. 游戏活动积分刷取

         主要利用重放、和参数篡改的方式
2. 抽奖、领券并发
3. 基于时间判断的活动抽奖次数限制绕过
4. 兑奖并发
5. 领奖条件限制绕过

## 五、互动板块
1. 员工活动园区、用户活动社区。
2. 政府、教育机构类
3. 主要面向政府机关单位、高等院校

## 六、业务办理预约

1. 校验缺陷，可借用虚假信息进行考试报名、消耗报考次数
2. 报考费用篡改、流程绕过等
3. 生活业务批量预约、申请
4. CSRF 攻击
5. XSS 攻击

## 五、站点门户

1. 对外开放的项目、事件公示公告未做敏感信息处理
2. 文档文件遍历
3. 路径可控，文件任意读取
4. SQL 注入攻击
5. 公告栏敏感信息泄露
         特别一些关于企业、个人通报的公告，可能页面对人员敏感信息（手机号、身份证号）做了*处理，但是服务器返回包明文显示，这类情况不少见。

## 六、互动板块

1. 市民交流论坛、学校师生活动社区
2. 各类管理系统
3. 访问限制绕过
         主要针对于高校系统，考虑到高校大多采用校园网，而不是采用 VPN 连接方式，导致可篡改 HTTP 头部的 XFF 进行 IP 伪造为本地 IP，从而绕过访问限制。
4. 登录类、验证码类测试

5. 系统使用文档指南敏感信息泄露
6. 文件遍历、任意读取

## 七、业务查询
1. 越权查询、篡改、取消业务
2. SQL 注入
3. 业务单号可枚举遍历

## 八、电商类

1. 主要面对商城交易里的各个模块，订单交易、查询、评论等
2. 商品限量、优惠券限量、抽奖功能、提现、会员充值可并发
3. 订单完成中会有商品评价，会检测是否购买过商品，通过篡改待支付订单的状态码进行绕过，对未支付订单商品进行评价
4. 支付订单、生成订单时修改敏感参数、或替换订单 ID、商品 ID、数量、金额等导致订单金额篡改
5. 总金额=商品金额+优惠券金额（只校验订单总金额，而不单独校验优惠券金额跟商品金额，可增大优惠券金额）
6. 校验商品总数量不能为负数，而不校验单个数量，可以设置两个商品一个数量为-1，一个数量为 2。
7. 使用优惠券、退货处、订单查询、收货地址、个人信息、商品评价等可越权使用、篡改、删除
8. 订单参数混淆干扰，在同一个订单内提交两个或多个金额参数，如 price=1&price=-1
9. 强制攻击
         强制攻击发生在暴力破解的情况下，如果一个商家运用一个自己的网店，接入第三方支付接口，由于设计上的不当导致商家与第三方支付约定的密钥 Key
10. 可以单独被 MD5 加密，导致可以使用 MD5 碰撞技术对密钥进行破解，攻击者可以设计简单的密钥加密信息使得 MD5 加密是可以用 MD5 碰撞技术进行暴力破解
11. 订单金额单位可替换
12. 收款账号、二维码篡改
13. 支付流程缺陷，可跳过，假设 abcd 四个步骤，c 为校验步骤，直接跳过 c 进入到 d 步骤）
14. int 型溢出（超过最大值整数溢出）遍历优惠券 id，有可能遍历出测试隐藏的无条件大额优惠券
15. 订单未捆绑，确定支付之后还可以将商品加入购物车：把商品放入购物车点击下单支付，会跳转到微信，支付宝等第三方支付平台。这个时候还可以继续在购物车中加入商品，支付结束之后，商家发放的商品是现在的购物车里面的东西
16. JS 文件存在隐藏接口服务、参数
17. 优惠券使用限制绕过

## 九、平台资源类

1. 主要面向一些开放平台
         例如接口平台，资源申请平台等接口、服务资源未授权、越权使用
2. 资源批量申请
3. 优惠购买会员（重复使用优惠购买）
4. 平台资源介绍文档导致接口、账号等敏感信息泄露
5. 购买服务时并发，叠加使用时间
6. 邀请虚假伪造用户，增长体验时长
7. 非会员使用会员功能限制绕过

## 十、社交类
1. 主要面向社区论坛
2. 个人用户信息回显
         论坛、社区部分以用户手机号等方式进行注册，注册后默认以该手机号为账号，有的会明文显示，有的会在页面上做屏蔽处理，但服务器返回是明文
3. 修改密码、个人信息越权操作
4. 用户批量注册
5. 注册信息覆盖
6. 客户端校验绕过
7. 评论区可外链钓鱼链接（包括 XSS）
8. 任意文件上传
9. 加密帖检验绕过
10. 强行加好友（一般尝试重发通过好友这条协议）
11. 自由修改号码（靓号类）
12. 非会员使用会员功能

## 十一、证券、保险类

主要面对证券机构、保险行业等
1. O2O商城
2. 商业推广
3. 好友短信邀请内容可控
4. 好友邮箱邀请内容可控
5. 短信、邮箱批量发起
6. 业绩回报
7. 可跨区查看其他区域销售人员业绩
8. 业绩汇报敏感信息泄露（包括工号、手机号等）
9. 节日活动类
10. 互动板块

## 十二、各类管理系统类

1. 登录类、验证码类测试
2. 门户网站
3. APP 下载信息可控
         部分证券、保险，下载其 APP 时，需对用户手机号进行校验，然后将 APP 下载的链接以短信形式发送给用户，且内容信息可控
4. 资源请求功能处可SSRF
5. 投诉、建议、咨询、留言等可进行重放攻击
6. 在线客服、投诉、建议、咨询、留言等可进行 XSS 钓鱼
7. 项目文档、公告文件遍历，可遍历出开发测试或未对外开放的敏感文件
8. SQL注入攻击
9. JS文件存在隐藏接口服务、参数

## 十三、医院医疗类
1. 预约挂号
2. 批量预约挂号申请
3. 越权取消、查看、篡改预约挂号信息
4. 预约次数限制突破

## 十四、充值缴费

1. 订单金额篡改
2. O2O商城
3. 报告、清单查询
4. 越权查看、篡改他人看诊报告、消费清单
5. 清单、报告 ID 可遍历枚举
6. 用户身份校验缺陷（绕过、短信可爆破）
         针对于短信验证码校验，大多数公众号类是采用手机号+验证码的形式登录，详情见“业务逻辑测试汇总——通用篇——验证码类、登录类”

## 十五、便民服务
1. 问卷调查批量恶意评价
2. 突破调查满意度限制
3. 住院、看诊记录越权查看
4. 市民服务批量预约
5. 取药凭证可枚举暴破

## 十五、服务类

主要面向于生活服务，包括外卖、物流快递、交通运输等

## 十六、外卖

1. 商品数量，0，负数，小数，特定值，正负数（A 为-1，B 为 2，总值为 1）
2. 送餐员评价、星级、打赏金额修改（小数，负数）
3. 商品评价字数、星级限制突破，上传图片是否可以自定义格式，
4. 送餐地址限制突破
5. 强行货到付款，取消订单，退款
6. 越权操作别人订单，登陆
7. 优惠购买会员（重复使用优惠购买）
8. 外卖红包并发领取
9. 红包、优惠券可枚举

## 十七、物流快递

1. 快递单号可枚举暴破
2. 订单信息、收货地址、用户个人信息可越权查看、操作
3. 预约寄件服务批量发起，且未对人员信息进行合法校验，导致可恶意伪造

## 十八、交通运输

1. 无限叫车，重复发送协议造成市场混乱
2. 修改评价分数
3. 修改限时优惠叫车关键参数
4. 替换优惠卷
5. 越权操作其他订单

## 十九、娱乐类

主要面对直播、漫画、音乐等软件

## 二十、音乐

1. 唱歌类软件修改上传分数等参数
2. 评论区批量恶意评论、越权评论
3. 付费下载尝试替换下载 ID
4. 修改付费下载金额
5. F12 查看下是否有歌曲地址

## 二十一、漫画

1. 打赏金额为负数，小数，特定值（溢出）
2. 越权删除评论，登陆
3. 修改充值金额
4. 付费漫画免费看
5. 评论图片数量过多会导致客户端加载卡死

## 二十二、直播

1. 快速进出房间炸房
2. 无限发送点赞协议
3. 修改礼物数量
         0，小数，负数，特定值（一般情况下为 1073741824）
4. 修改礼物 ID，遍历尝试是否有隐藏 ID
5. 并发送礼物，抽奖
6. 无限创建首次优惠订单，
         有些首次优惠订单是一个特殊的 pid，这种的直接替换 pid 进行支付。有些是相同的 ID，这种的提前创建订单，记录多个订单号在依次修改订单支付。
7. 刷屏：发言刷屏，分享，点赞等有提示的地方刷屏
8. 房间内可以申请的地方进行申请取消操作，看看是否能炸房。
9. 越权踢人，增加管理员，关闭房间等操作。
10. 发送的表情是否可以修改长宽